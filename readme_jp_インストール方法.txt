FPSなどのゲームの入力遅延を測定するためのファームウェアです．

PCからは普通のUSBマウスのように見え，自動でポインタを左右に動かします．
この時，ポインタを動かしている時はLEDがONになり，動いていない時はLEDがOFFになるような動作をします．
LEDが光りだしたタイミングから，ディスプレイに動きが反映される時間を観測することで，USBデバイス→ディスプレイまでにかかった処理時間(入力遅延)を測ることができます．入力遅延は数msから数十ms程度なので，1000fpsくらいのフレームレートで撮影できる高速度カメラを使ってコマ数を数えることで測ることができます．私はNikon 1 V1(1200fps)を使用していますが，他の機種でも高fps撮影が可能であれば測定できると思います．

詳しくは下の記事を見て下さい．
http://logical-gaming.blogspot.jp/2014/10/blog-post.html

■用意するもの
・マイコンボード
CY8CKIT-059 PSoC 5LP Prototyping Kitで動作します．
CY8CKIT-059は，電子部品販売サイトなどで1500円ほどで購入することができます．
秋月電子の販売ページ: http://akizukidenshi.com/catalog/g/gM-09432/

※その他のPSoC 5LPボードでは，ボードの構成に合わせて対象デバイスの設定と，ピンアサインを行えば動作するはずです(未検証)．

・MicroUSBケーブル
このファームウェアでは，このマイコンのUSB機能を使うので，MicroUSBケーブルが必要です．

・ファームウェア書き込み用ソフトウェア
PSoC Creatorでファームウェアをビルドし，書き込みます．
PSoC Creatorは無料で入手することができますが，ユーザ登録が必要です．
PSoC Creator 3.3 CP3 (3.3.0.9604)で動作確認しています．

■ファームウェアの書き込み方法(インストール方法)
1.CY8CKIT-059をUSBに接続します(基板に金色の4本線が書かれている側をUSBポートに差し込んで下さい)．
2.初めて接続した場合はドライバがインストールされるまで待ちます．
3.PSoC Creatorを起動します．
4.File > Open > Projects/Workspaceを押します．
5./USBFS16Bit.cydsn/USBFS16Bit.cyprjを開きます．
6.ファイルが開けたら，Ctrl+F5を押すとビルドと書き込みが行われます(ビルドには数分かかります)．
7.書き込みが終わったらCY8CKIT-059をUSBから抜きます．
8.基板の反対側のコネクタにMicroUSBケーブル接続し，ケーブルをUSBポート接続して下さい．

ドライバがインストールされ，LEDが点滅しながらポインタが左右に動けばファームウェアが正常に動作しています．
点滅してるけどポインタが動かない場合は，MicroUSBケーブルを抜いてPCを再起動して，起動後に再接続すると治ることがあるようです．

